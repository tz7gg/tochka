{"version":3,"sources":["getUser.js","instruction.js","render.js","search.js","spinner.js"],"names":["USERLINK","concat","window","location","href","getUser","userLogin","url","fetch","then","res","instructionBtn","document","querySelector","instructionWrap","instructionClose","render","data","coins","productsWrap","content","innerText","innerHTML","products","forEach","element","imgSrc","console","log","description","includes","id","price","slice","orders","el","product_id","classList","add","onclick","remove","searchInput","searchBtn","exchangeError","balanceWrap","options","spinner","active","addEventListener","_asyncToGenerator","_regeneratorRuntime","mark","_callee","wrap","_context","prev","next","value","json","sent","stop"],"mappings":"aAAA,IAAMA,SAAQ,GAAAC,OAAMC,OAAOC,SAASC,KAAtB,oBAEd,SAASC,QAAQC,GACPC,EAAG,GAAAN,OAAMD,SAAN,UAAAC,OAAuBK,GAChC,OAAOE,MAAMD,GAAKE,KAAK,SAAAC,GAAG,OAAIA,ICJlC,IAAMC,eAAiBC,SAASC,cAAc,wCACxCC,gBAAkBF,SAASC,cAAc,gBACzCE,iBAAmBH,SAASC,cAAc,6BCFhD,SAASG,OAAOC,GACZ,IAAMC,EAAQN,SAASC,cAAc,oCAC/BM,EAAeP,SAASC,cAAc,8BACxCO,EAAU,GAEdF,EAAMG,UAAYJ,EAAKC,MAEvBC,EAAaG,UAAY,GAEzBL,EAAKM,SAASC,QAAQ,SAAAC,GAElB,IAAIC,EADJC,QAAQC,IAAIX,GAGRQ,EAAQI,YAAYC,SAAS,UAC7BJ,EAAS,iBACFD,EAAQI,YAAYC,SAAS,aACpCJ,EAAS,kBACFD,EAAQI,YAAYC,SAAS,UACpCJ,EAAS,oBAGbN,GAAO,kEAAAnB,OAC4CwB,EAAQM,GADpD,iRAAA9B,OAMkDwB,EAAQO,MAN1D,4PAAA/B,OAYCyB,EAZD,6JAAAzB,OAeiDwB,EAAQI,YAAYI,MAAM,EAAG,GAf9E,8EAAAhC,OAgBgDwB,EAAQI,YAAYI,MAAM,GAhB1E,yNAwBXd,EAAaG,UAAYF,EACjBH,EAGCiB,OAAOV,QAAQ,SAACW,GACNvB,SAASC,cAAT,aAAAZ,OAAoCkC,EAAGC,WAAvC,OACNvB,cAAc,yCAAyCwB,UAAUC,IAAI,Y,02ND/CtF3B,eAAe4B,QAAU,WACrBzB,gBAAgBuB,UAAUC,IAAI,WAGlCvB,iBAAiBwB,QAAU,WACvBzB,gBAAgBuB,UAAUG,OAAO,WETrC,IAAMC,YAAc7B,SAASC,cAAc,kBACrC6B,UAAY9B,SAASC,cAAc,gBACnC8B,cAAgB/B,SAASC,cAAc,qBACvC+B,YAAchC,SAASC,cAAc,uBACrCgC,QAAUjC,SAASC,cAAc,uBCJvC,SAASiC,QAAQC,GACb,IAAMD,EAAUlC,SAASC,cAAc,sBACnCkC,EACAD,EAAQT,UAAUC,IAAI,UAEtBQ,EAAQT,UAAUG,OAAO,UDCjCtC,OAAO8C,iBAAiB,OAAQ,WAC5BN,UAAUH,QAAVU,kBAAAC,sBAAAC,KAAoB,SAAAC,IAAA,IAAAnC,EAAA,OAAAiC,sBAAAG,KAAA,SAAAC,GAAA,OAAA,OAAAA,EAAAC,KAAAD,EAAAE,MAAA,KAAA,EAAA,GACZf,YAAYgB,MADA,OAEZX,SAAQ,GAFIQ,EAAAE,KAAA,EAGKnD,QAAQoC,YAAYgB,OAAOhD,KAAK,SAAAC,GAAG,OAAIA,EAAIgD,SAHhDJ,EAAAE,KAAA,EAAA,MAAA,KAAA,EAII,KADZvC,EAHQqC,EAAAK,MAIH5B,IACLY,cAActB,UAAY,0BAC1BsB,cAAcN,UAAUG,OAAO,MAC/BI,YAAYP,UAAUC,IAAI,MAC1BO,QAAQR,UAAUC,IAAI,QAEtBK,cAAcN,UAAUC,IAAI,MAC5BM,YAAYP,UAAUG,OAAO,MAC7BK,QAAQR,UAAUG,OAAO,MACzBxB,OAAOC,IAEX6B,SAAQ,GAfI,KAAA,EAAA,IAAA,MAAA,OAAAQ,EAAAM,SAAAR","file":"main.min.js","sourcesContent":["const USERLINK = `${window.location.href}/API/getUser.php`\r\n\r\nfunction getUser(userLogin) {\r\n    const url = `${USERLINK}?user=${userLogin}`\r\n    return fetch(url).then(res => res)\r\n}","const instructionBtn = document.querySelector('.exchanger__options__instruction-btn')\r\nconst instructionWrap = document.querySelector('.instruction')\r\nconst instructionClose = document.querySelector('.instruction__wrap__close')\r\n\r\ninstructionBtn.onclick = () => {\r\n    instructionWrap.classList.add('active')\r\n}\r\n\r\ninstructionClose.onclick = () => {\r\n    instructionWrap.classList.remove('active')\r\n}","function render(data) {\r\n    const coins = document.querySelector('.exchanger__balance__count__text')\r\n    const productsWrap = document.querySelector('.exchanger__options__items')\r\n    let content = ''\r\n\r\n    coins.innerText = data.coins\r\n\r\n    productsWrap.innerHTML = ''\r\n\r\n    data.products.forEach(element => {\r\n        console.log(data);\r\n        let imgSrc\r\n\r\n        if (element.description.includes('звонки')) {\r\n            imgSrc = 'images/tel.svg'\r\n        } else if (element.description.includes(' спецкурс')) {\r\n            imgSrc = 'images/book.svg'\r\n        } else if (element.description.includes('курс')) {\r\n            imgSrc = 'images/books.svg'\r\n        }\r\n\r\n        content += `\r\n\t\t\t\t<div class=\"exchanger__options__items__item\" data-id=${element.id}>\r\n\t\t\t\t<div class=\"exchanger__options__items__item__price\">\r\n\t\t\t\t\t<div class=\"exchanger__options__items__item__price__icon\">\r\n\t\t\t\t\t\t<img src=\"images/coin.svg\" alt=\"\">\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class=\"exchanger__options__items__item__price__text\">${element.price}</div>\r\n\t\t\t\t\t<div class=\"exchanger__options__items__item__price__currency\">\r\n\t\t\t\t\t\t<img src=\"images/currency.svg\" alt=\"\">\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"exchanger__options__items__item__icon\">\r\n\t\t\t\t\t<img src=${imgSrc} alt=\"\">\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"exchanger__options__items__item__des\">\r\n\t\t\t\t\t<div class=\"exchanger__options__items__item__des__badge\">${element.description.slice(0, 3)}</div>\r\n\t\t\t\t\t<div class=\"exchanger__options__items__item__des__text\">${element.description.slice(3)}</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"exchanger__options__items__item__btn\">\r\n\t\t\t\t\t<div class=\"exchanger__options__items__item__btn__text\">Использовать скидку</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t`\r\n    });\r\n    productsWrap.innerHTML = content\r\n    isOrder(data)\r\n\r\n    function isOrder(data) {\r\n        data.orders.forEach((el) => {\r\n            let item = document.querySelector(`[data-id='${el.product_id}']`)\r\n            item.querySelector('.exchanger__options__items__item__btn').classList.add('active')\r\n        })\r\n    }\r\n\r\n}","const searchInput = document.querySelector('.search__input')\r\nconst searchBtn = document.querySelector('.search__btn')\r\nconst exchangeError = document.querySelector('.exchanger__error')\r\nconst balanceWrap = document.querySelector('.exchanger__balance')\r\nconst options = document.querySelector('.exchanger__options')\r\n\r\nwindow.addEventListener('load', () => {\r\n    searchBtn.onclick = async() => {\r\n        if (searchInput.value) {\r\n            spinner(true)\r\n            let data = await getUser(searchInput.value).then(res => res.json())\r\n            if (data.id === 0) {\r\n                exchangeError.innerText = 'Пользователь не найден!'\r\n                exchangeError.classList.remove('dn')\r\n                balanceWrap.classList.add('dn')\r\n                options.classList.add('dn')\r\n            } else {\r\n                exchangeError.classList.add('dn')\r\n                balanceWrap.classList.remove('dn')\r\n                options.classList.remove('dn')\r\n                render(data)\r\n            }\r\n            spinner(false)\r\n        }\r\n    }\r\n})","function spinner(active) {\r\n    const spinner = document.querySelector('.spinner-conteiner')\r\n    if (active) {\r\n        spinner.classList.add('active')\r\n    } else {\r\n        spinner.classList.remove('active')\r\n    }\r\n}"]}